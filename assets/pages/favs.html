<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../img/Moviestack_favicon.png" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Moviestack | Movies - Federico Val</title>
</head>

<body class="bg-gray-800 font-geistul">
    <div id="app">
        <header
            class="flex flex-col justify-center items-center gap-3 pb-2 border-2 border-gray-400 text-white pt-2 md:flex-row md:justify-between md:gap-0 lg:justify-between bg-gray-700 rounded-3xl">
            <div class="flex justify-center items-center w-full md:w-1/3 ">
                <picture class="w-20">
                    <img class="object-cover" src="../img/Moviestack_isotipo.png" alt="Logo">
                </picture>
                <a href="../../index.html">
                    <h1>MOVIESTACK</h1>
                </a>
            </div>
            <nav class="md:w-1/3 lg:w-1/4 md:mr-2 lg:mr-0">
                <ul class="flex w-full gap-12">
                    <li><a href="../../index.html">HOME</a></li>
                    <li><a href="./movies.html">MOVIES</a></li>
                    <li><a class="border border-white p-1 bg-gray-900 rounded-xl" href="#">FAVS</a></li>
                </ul>
            </nav>
        </header>
        <main class="flex grow min-h-screen flex-col bg-gray-800 text-white gap-4">
            <h2 class="m-2 mt-4 p-3 text-3xl text-center font-bold border border-gray-400 bg-black rounded-3xl ">MOVIES
            </h2>
            <div class="flex flex-col md:flex-row justify-center gap-6 text-black items-center">
                <div class="flex flex-col gap-2">
                    <select name="genres" class="rounded-3xl p-2 pt-5 pb-5" v-on:change="saveSelect">
                        <option value="none">All genres</option>
                        <template v-if="genres.length > 0" v-for="genre in genres">
                            <option v-bind:value="genre">{{genre}}</option>
                        </template>
                    </select>
                </div>
                <input id="username" class="rounded-3xl pl-4 p-5 w-3/4" type="text" placeholder="Search by title"
                    v-on:input="saveSearch">
            </div>
            <div id="divMovies"
                class="md:flex md:w-full md:flex-wrap md:justify-center lg:grid lg:grid-cols-4 lg:gap-4 p-4">

                <template v-if="favFiltered.length > 0" v-for="fav in favFiltered">
                    <article v-bind:data-id="fav.id"
                        class="bg-gray-900 border-2 border-dashed border-gray-400 rounded-2xl p-4 m-2 flex flex-col md:w-1/3 md:flex-wrap lg:w-auto lg:ml-auto lg:mr-auto justify-between">
                        <img v-bind:src="'https://moviestack.onrender.com/static/'+ fav.image" v-bind:alt="fav.title"
                            class="mb-3">
                        <h3 class="mb-1 font-bold text-2xl">{{fav.title}}</h3>
                        <h4 class="mb-3 italic">{{fav.tagline}}</h4>
                        <p class="mb-3 line-clamp-5 md:line-clamp-3 lg:line-clamp-2">{{fav.overview}}</p>
                        <a v-bind:href='"./details.html?id="+fav.id' id="anchor"
                            class="text-blue-400 cursor-pointer border w-1/3 text-center bg-black rounded-xl self-end">View
                            more</a>
                        <picture class="w-[45px] absolute m-0 cursor-pointer picture">
                            <img :ref="'img_'+ fav.id" v-bind:src="getFavImg(fav)" class="w-full"
                                v-on:click="removeFavImg(fav)">
                        </picture>
                    </article>
                </template>
                <template v-else>
                    <h2>NO FAVS ADDED</h2>
                </template>
            </div>
        </main>
        <footer class="flex justify-center items-center border-2 border-gray-400 bg-gray-700 text-white rounded-3xl">
            <p>Federico Val - Cohort N52</p>
        </footer>
    </div>
    <script src="../js/tailwind.config.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script type="module" src="../js/favs.js"></script>
</body>

</html>